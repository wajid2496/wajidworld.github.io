<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
body, html {
  height: 100%;
  font-family: "Inconsolata", sans-serif;
  }
.navbar {
  overflow: hidden;
  background-color: #333;
}

.navbar a {
  float: left;
  font-size: 16px;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

.dropdown {
  float: left;
  overflow: hidden;
}

.dropdown .dropbtn {
  font-size: 16px;  
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}

.navbar a:hover, .dropdown:hover .dropbtn {
  background-color: red;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  float: none;
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.dropdown-content a:hover {
  background-color: #ddd;
}

.dropdown:hover .dropdown-content {
  display: block;
}
</style>
</head>
<body>

<div class="navbar">
 <a href="https://linuxhero.tk">Home</a>
   <div class="dropdown">
     <button class="dropbtn">Linux 
        <i class="fa fa-caret-down"></i>
     </button>
     <div class="dropdown-content">
        <a href="https://linuxhero.tk/linuxinfo/">Linux Introduction</a>
       <a href="https://linuxhero.tk/linuxdistros/">Linux Distributions</a>
       <a href="https://linuxhero.tk/linuxcommands/">Linux Commands</a>
       <a href="https://linuxhero.tk/ntp/">Configure NTP</a>
       <a href="https://linuxhero.tk/ssh/">Configure SSH</a>
       <a href="https://linuxhero.tk/nfs/">Configure NFS</a>
       <a href="https://linuxhero.tk/iscsi/">Configure iSCSI Storage</a>  
        <a href="https://linuxhero.tk/dhcp/">Configure Dnsmasq</a>
       <a href="https://linuxhero.tk/ftp/">Configure FTP Server</a>
       <a href="https://linuxhero.tk/lvm/">Configure LVM</a>
     </div>
    </div> 
   <div class="dropdown">
    <button class="dropbtn">Linux Troubleshooting 
       <i class="fa fa-caret-down"></i>
     </button>
     <div class="dropdown-content">
      <a href="https://linuxhero.tk/Analyzebottlenecks/">Steps To Analyze Linux Performance Bottlenecks</a>
      <a href="https://linuxhero.tk/cpubottlenecks/">CPU Bottlenecks</a>
        <a href="https://linuxhero.tk/memorybottlenecks/">Memory Bottlenecks</a>
       <a href="https://linuxhero.tk/diskbottlenecks/">Disk Bottlenecks</a>
       <a href="https://linuxhero.tk/networkbottlenecsk/">Network Bottlenecks</a>
     </div>
    </div>
   <div class="dropdown">
    <button class="dropbtn">Devops 
       <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="https://linuxhero.tk/devopsinfo/">What is Devops?</a>
      <a href="https://linuxhero.tk/devopstools/">Devops Tools</a>
      <a href="https://linuxhero.tk/jenkins/">Configure Jenkins</a>
      <a href="https://linuxhero.tk/docker/">Configure Docker</a>
      <a href="https://linuxhero.tk/kubernetes/">Configure Kubernetes</a>
      <a href="https://linuxhero.tk/puppet/">Configure Puppet</a>
      <a href="https://linuxhero.tk/ansible/">Configure Ansible</a>
      <a href="https://linuxhero.tk/dockercommands/">Docker Commands</a>
      <a href="https://linuxhero.tk/kubernetescommmand/">Kubernetes Commands</a>
    </div>
  </div>
   <div class="dropdown">
    <button class="dropbtn">Devops Projects
       <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="https://linuxhero.tk/devopsproject1/">Linux Automation using devops tools</a>
 
    </div>
  </div>
  <div class="dropdown">
    <button class="dropbtn">Monitoring Tools 
       <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="https://linuxhero.tk/nagios/">Configure Nagios</a>
      <a href="https://linuxhero.tk/splunk/"">Configure Splunk</a>
    </div>
  </div>
    <a href="https://linuxhero.tk/#Topics">New Topics</a>
    <a href="https://linuxhero.tk/privacy/">Privacy Policy</a>
    <a href="https://linuxhero.tk/#about">About</a>
    <a href="https://linuxhero.tk/#contact">Contact Us</a>
  </div>

<!-------------Top Menu End------------->


<!-- Add a background color and large text to the whole page -->
<div class="w3-sand w3-grayscale w3-large">
  <div class="w3-container">
  <div class="w3-content" style="max-width:700px">
   <img src="/dockerswarm.jpg" style="width:100%;max-width:1000px" class="w3-margin-top">
  </div>
     <script data-ad-client="ca-pub-9816877488746708" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Content -->
<div class="w3-container">
  <div class="w3-content" style="max-width:700px">
    <h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">Docker Swarm</span></h5>
    
    
    <h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">What is a Docker Swarm?</span></h5>
<p><i>A Docker Swarm is a group of either physical or virtual machines that are running the Docker application and that have been configured to join together in a cluster. Once a group of machines have been clustered together, you can still run the Docker commands that you're used to, but they will now be carried out by the machines in your cluster. The activities of the cluster are controlled by a swarm manager, and machines that have joined the cluster are referred to as nodes.<i><p>

<p><i>Docker swarm is a container orchestration tool, meaning that it allows the user to manage multiple containers deployed across multiple host machines.<i><p>

<h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">docker swarm commands</span></h5>
<h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">1. Node management</span></h5>

<h5><span class="w3-code w3-red">Initialize a swarm: docker swarm init
<br>
<br>List swarm nodes: docker node ls
<br>
<br>Get the command for new nodes to join a swarm: docker swarm join-token worker or docker swarm join-token worker. The command prints the required command and token: E.g. To add a worker to this swarm, run the following command:
<br>docker swarm join \
--token SWMTKN-1-49nj1cmql0jkz5s954yi3oex3nedyz0fb0xx14ie39trti4wxv-8vxv8rssmk743ojnwacrr2e7c \
192.0.0.10:2377
<br>
<br>Check service manger reachability: docker node inspect manager-node-name --format "{{ .ManagerStatus.Reachability }}"
<br>
<br>Check node state: docker node inspect node-name --format "{{ .Status.State }}"
<br>
<br>Put a node in maintenance mode: docker node update --availability drain node_name
<br>
<br>Activate a node (after maintenance): docker node update --availability active node_name
<br>
<br>Add a label: docker node update --label-add key=value node_name
<br>
<br>Remove a label: docker node update --label-rm key node_name
<br>
<br>Search label: docker node inspect node_name | grep Labels -C5
<h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">2. Service management</span></h5>

<h5><span class="w3-code w3-red">List services (manager node): docker service ls
<br>
<br>Describe services (manager node): docker service ps service_name
<br>
<br>Inspect a service: docker service inspect service_name
<br>
<br>Scale a service: docker service scale service_name=N
<br>
<br>Remove service: docker service rm service_name
</span></h5>
<br>
<h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">3. Stack management</span></h5>

<h5><span class="w3-code w3-red">Deploy stack from docker-compose file: docker stack deploy -c docker-compose.yml stack_name
<br>
<br>List stacks: docker stack ls
<br>
<br>List stack services: docker stack services stack_name
<br>
<br>List stack tasks: docker stack ps stack_name
<br>
<br>Remove stack : docker stack rm stack_name</span></h5>
<br>
<h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">4. Network management</span></h5>

<h5><span class="w3-code w3-red">List networks: docker network ls
<br>
<br>Create overlay network: docker network create -d overlay network_name
<br>
<br>Remove network: docker network rm network_name
</span></h5>
<br>
<h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">5. Monitor services</span></h5>

<h5><span class="w3-code w3-red">Docker stats: docker stats
<br>
<br>Service logs: docker service logs service_name
<br>
<br>Collect all container logs:
<br>
<br>docker service create --mode global --name st-logagent \
<br>--restart-condition any \
<br>--mount type=bind,src=/var/run/docker.sock,dst=/var/run/docker.sock \
<br>-e LOGS_TOKEN=YourLogsToken \
<br>sematext/logagent:latest
</span></h5>
</div>
</div>
<!-- Menu Container -->


<!-- Contact/Area Container -->
 
<div class="w3-container" id="contact">
    <h5><span class="w3-code w3-black">Please email me if you face any issue.</span></h5>
    <form action="mailto:linuxhero123@gmail.com" method="get" enctype="text/plain">
      <p><strong>Name: <input type="text" name="name"/></p>
      <p><strong>Email: <input type="text" name="email"/></p>
      <p><strong>Comments:
        <br />
        <textarea name="comments" rows = "12" cols = "35">Send your comments....</textarea>
        <br>
     <h5><span class="w3-code w3-green"><input type="submit" name="submit" value="Send" />
        <form action="mailto:Allishah2490@gmail.com" 
         enctype="text/plain" onsubmit="location.href='thanks.html';" >
        <input type="reset" name="reset" value="Clear Form" />
      </span></h5>
    </form>
  </body>
  </div>
</div>
<!-- hitwebcounter Code START -->
<h5><span class="w3-code w3-red">views</span></h5> 
<a href="https://www.hitwebcounter.com" target="_blank">
<img src="https://hitwebcounter.com/counter/counter.php?page=7226025&style=0003&nbdigits=1&type=page&initCount=0" title="User Stats" Alt="PHP Hits Count"   border="0" >
</a>                                    
                    
<!-- End page content -->
</div>

<!-- Footer -->
<footer class="w3-center w3-black w3-padding-48 w3-large">
  
<body>
   <div class="list-group">
     <a class="fa fa-linkedin-square" style="font-size:48px;color:white" href="https://www.linkedin.com/in/wajid-a-9b9545139/"></a>
    </div>
   </body>
  
</footer>

<script>
// Tabbed Menu
function openMenu(evt, menuName) {
  var i, x, tablinks;
  x = document.getElementsByClassName("menu");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablink");
  for (i = 0; i < x.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" w3-black", "");
  }
  document.getElementById(menuName).style.display = "block";
  evt.currentTarget.firstElementChild.className += " w3-black";
}
document.getElementById("myLink").click();
</script>

<!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/5e8ea64d69e9320caac1c190/default';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
  
</body>
</html>
